(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(e,t,n){e.exports={headerContainer:"Header_headerContainer__uS4YK",navBlock:"Header_navBlock__3nd5j",active:"Header_active__2gtFF"}},18:function(e,t,n){e.exports={superInput:"SuperInput_superInput__1H0Ml",errorInput:"SuperInput_errorInput__umUNx",error:"SuperInput_error__nPOYS"}},21:function(e,t,n){e.exports={error:"Error_error__25FxY",errorCat:"Error_errorCat__3DLWz",item:"Error_item__VFFfH"}},27:function(e,t,n){},28:function(e,t,n){e.exports={default:"SuperButton_default__3X9xY",red:"SuperButton_red__3duho"}},29:function(e,t,n){e.exports={checkbox:"SuperCheckbox_checkbox__RXqEG"}},30:function(e,t,n){e.exports={inputRadio:"SuperRadio_inputRadio__3dkL3",inputText:"SuperRadio_inputText__39qJ4"}},42:function(e,t,n){e.exports={loginError:"Login_loginError__2vEe2"}},48:function(e,t,n){},49:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(19),i=n.n(a),o=(n(48),n(5)),s=(n(49),n(13)),u=n.n(s),j=n(3),l=n(12),d=n(6),b=n(4),O=n(41),h=n.n(O).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),p="<div style=\"font-size: 1.2em; font-family: Calibri,sans-serif\">For password recovery click: <a href='http://localhost:3000/#/enter_new_password$token$'>here</a></div>",x=function(e,t,n){return h.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},f=function(e,t){return h.post("auth/register",{email:e,password:t}).then((function(e){return e.data}))},g=function(){return h.delete("auth/me").then((function(e){return e.data}))},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"test-front-dev <shishkina_veronika_10@mail.ru>",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;return h.post("auth/forgot",{email:e,from:t,message:n}).then((function(e){return e.data}))},m={userData:{email:null,_id:null,avatar:null,name:null,publicCardPacksCount:0},isLoggedIn:!1,loginError:null},E=function(e){return{type:"auth/SET-IS-LOGGED-IN",isLoggedIn:e}},_=n(42),R=n.n(_),C=n(0),S=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth.isLoggedIn})),n=Object(d.c)((function(e){return e.auth.loginError})),c=Object(r.useState)(""),a=Object(l.a)(c,2),i=a[0],o=a[1],s=Object(r.useState)(""),u=Object(l.a)(s,2),b=u[0],O=u[1],h=Object(r.useState)(!1),p=Object(l.a)(h,2),f=p[0],g=p[1];return t?Object(C.jsx)(j.a,{to:Z.PROFILE}):Object(C.jsxs)("div",{children:["Login",Object(C.jsxs)("form",{children:[Object(C.jsx)("div",{children:Object(C.jsx)("input",{type:"text",onChange:function(e){o(e.currentTarget.value)}})}),Object(C.jsx)("div",{children:Object(C.jsx)("input",{type:"password",onChange:function(e){O(e.currentTarget.value)}})}),Object(C.jsxs)("div",{children:[Object(C.jsx)("input",{type:"checkbox",onChange:function(e){g(e.currentTarget.checked)}}),"Remember me"]}),Object(C.jsx)("button",{type:"submit",onClick:function(){e(function(e,t,n){return function(r){x(e,t,n).then((function(e){var t=e.email,n=e._id,c=e.avatar,a=e.name,i=e.publicCardPacksCount;r({type:"auth/SET-USER-DATA",data:{email:t,_id:n,avatar:c,name:a,publicCardPacksCount:i}}),r(E(!0))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";r({type:"auth/SET-LOGIN-ERROR",loginError:t})}))}}(i,b,f))},children:"log in"})]}),n?Object(C.jsx)("div",{className:R.a.loginError,children:n}):""]})},N={},T=n(27),I=n.n(T),y=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),i=Object(l.a)(a,2),s=i[0],u=i[1],b=Object(d.c)((function(e){return e.register.isRegistration})),O=Object(d.b)();return b?Object(C.jsx)(j.a,{to:Z.LOGIN}):Object(C.jsxs)("div",{className:I.a.registrationContainer,children:[Object(C.jsx)("h1",{children:"Registration: "}),Object(C.jsxs)("form",{className:I.a.formBlock,children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{children:"Email: "}),Object(C.jsx)("input",{placeholder:"Enter email...",type:"email",value:n,onChange:function(e){c(e.currentTarget.value)}})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("span",{children:"Password: "}),Object(C.jsx)("input",{placeholder:"Enter password...",type:"password",value:s,onChange:function(e){u(e.currentTarget.value)}})]}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{type:"submit",onClick:function(){""===s||""===n?alert("Field is required"):(O(function(e,t){return function(n){f(e,t).then((function(){n({type:"REGISTER/SET-IS-REGISTRATION-DATA",isRegistration:!0})})).catch((function(e){console.log(e.error)}))}}(n,s)),c(""),u(""))},children:"Register"})})]}),Object(C.jsx)("div",{children:Object(C.jsx)(o.b,{to:Z.LOGIN,children:"login"})})]})},k={},L=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(d.b)();return Object(d.c)((function(e){return e.forgot.isForgotPassword}))?Object(C.jsx)(j.a,{to:Z.ENTER_NEW_PASSWORD}):Object(C.jsxs)("div",{children:[Object(C.jsxs)("form",{children:[Object(C.jsx)("span",{children:"Email: "}),Object(C.jsx)("input",{placeholder:"Enter email...",type:"email",value:n,onChange:function(e){c(e.currentTarget.value)}}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{type:"submit",onClick:function(){var e;a((e=n,function(t){v(e).then((function(){t({type:"RECOVERY/SET-IS-FORGOT-PASSWORD",isForgot:!0})})).catch((function(e){console.log(e.error)}))}))},children:"Send"})})]}),Object(C.jsx)("div",{children:Object(C.jsx)(o.b,{to:Z.LOGIN,children:"login"})})]})},P=function(){return Object(C.jsx)("div",{children:"enter new password"})},A=n(21),G=n.n(A),w=function(){return Object(C.jsxs)("div",{className:G.a.error,children:[Object(C.jsx)("div",{children:"ERROR 404"}),Object(C.jsx)("div",{children:"The cat couldn't find a page!"}),Object(C.jsx)("div",{className:G.a.errorCat,children:"\u2014\u0e05/\u1420.\u032b .\u141f\\\u0e05\u2014"}),Object(C.jsx)("nav",{children:Object(C.jsx)("div",{className:G.a.item,children:Object(C.jsx)(o.b,{to:Z.PROFILE,children:"go home"})})})]})},F=n(14),D=n(28),W=n.n(D),B=function(e){var t=e.red,n=e.className,r=Object(F.a)(e,["red","className"]),c="".concat(t?W.a.red:W.a.default," ").concat(n);return Object(C.jsx)("button",Object(b.a)(Object(b.a)({className:c},r),{},{children:"button"}))},Y=n(18),H=n.n(Y),V=function(e){e.type;var t=e.onChange,n=e.onChangeText,r=e.onKeyPress,c=e.onEnter,a=e.error,i=(e.className,e.spanClassName),o=Object(F.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),s="".concat(H.a.error," ").concat(i||""),u="".concat(H.a.errorInputError," ").concat(a?H.a.errorInput:H.a.superInput," ");return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("input",Object(b.a)({type:"text",onChange:function(e){t&&t(e),n&&n(e.currentTarget.value)},onKeyPress:function(e){r&&r(e),"Enter"===e.key&&c&&c()},className:u},o)),a&&Object(C.jsx)("span",{className:s,children:a})]})},K=n(29),U=n.n(K),q=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,r=e.className,c=(e.spanClassName,e.children),a=Object(F.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),i="".concat(U.a.checkbox," ").concat(r||"");return Object(C.jsxs)("label",{children:[Object(C.jsx)("input",Object(b.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)},className:i},a)),c&&Object(C.jsx)("span",{className:U.a.spanClassName,children:c})]})},J=n(30),M=n.n(J),z=function(e){e.type;var t=e.name,n=e.options,r=(e.value,e.onChange,e.onChangeOption),c=Object(F.a)(e,["type","name","options","value","onChange","onChangeOption"]),a=function(e){r&&r(e.currentTarget.value)},i=n?n.map((function(e,n){return Object(C.jsxs)("label",{className:M.a.inputRadio,children:[Object(C.jsx)("input",Object(b.a)({type:"radio",onChange:a,name:t},c)),Object(C.jsx)("span",{className:M.a.inputText,children:e})]},t+"-"+n)})):[];return Object(C.jsx)(C.Fragment,{children:i})},X=function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)(B,{}),Object(C.jsx)(V,{}),Object(C.jsx)(q,{}),Object(C.jsx)(z,{})]})},$={},Q=function(){var e=Object(d.b)();return Object(d.c)((function(e){return e.auth.isLoggedIn}))?Object(C.jsxs)("div",{children:["Profile",Object(C.jsx)("br",{}),Object(C.jsx)("button",{onClick:function(){e((function(e){g().then((function(t){e(E(!1))}))}))},children:"Log out"})]}):Object(C.jsx)(j.a,{to:Z.LOGIN})},Z={PROFILE:"/profile",LOGIN:"/login",REGISTRATION:"/registration",RECOVERY_PASSWORD:"/recovery_password",ENTER_NEW_PASSWORD:"/enter_new_password",TEST_PAGE:"/test_page"},ee=function(){return Object(C.jsx)("div",{children:Object(C.jsxs)(j.d,{children:[Object(C.jsx)(j.b,{path:Z.PROFILE,render:function(){return Object(C.jsx)(Q,{})}}),Object(C.jsx)(j.b,{path:Z.LOGIN,render:function(){return Object(C.jsx)(S,{})}}),Object(C.jsx)(j.b,{path:Z.REGISTRATION,render:function(){return Object(C.jsx)(y,{})}}),Object(C.jsx)(j.b,{path:Z.RECOVERY_PASSWORD,render:function(){return Object(C.jsx)(L,{})}}),Object(C.jsx)(j.b,{path:Z.ENTER_NEW_PASSWORD,render:function(){return Object(C.jsx)(P,{})}}),Object(C.jsx)(j.b,{path:Z.TEST_PAGE,render:function(){return Object(C.jsx)(X,{})}}),Object(C.jsx)(j.b,{render:function(){return Object(C.jsx)(w,{})}})]})})},te=function(){return Object(C.jsx)("div",{className:u.a.headerContainer,children:Object(C.jsxs)("nav",{className:u.a.navBlock,children:[Object(C.jsx)("div",{children:Object(C.jsx)(o.b,{to:Z.PROFILE,activeClassName:u.a.active,children:"Profile"})}),Object(C.jsx)("div",{children:Object(C.jsx)(o.b,{to:Z.LOGIN,activeClassName:u.a.active,children:"login"})}),Object(C.jsx)("div",{children:Object(C.jsx)(o.b,{to:Z.REGISTRATION,activeClassName:u.a.active,children:"Registration"})}),Object(C.jsx)("div",{children:Object(C.jsx)(o.b,{to:Z.RECOVERY_PASSWORD,activeClassName:u.a.active,children:"Recovery password"})}),Object(C.jsx)("div",{children:Object(C.jsx)(o.b,{to:Z.ENTER_NEW_PASSWORD,activeClassName:u.a.active,children:"Enter new password"})}),Object(C.jsx)("div",{children:Object(C.jsx)(o.b,{to:Z.TEST_PAGE,activeClassName:u.a.active,children:"Test page"})})]})})},ne=n(16),re=n(43),ce=Object(ne.c)({profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;return t.type,e},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET-USER-DATA":return Object(b.a)(Object(b.a)({},e),t.data);case"auth/SET-IS-LOGGED-IN":return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:t.isLoggedIn});case"auth/SET-LOGIN-ERROR":return Object(b.a)(Object(b.a)({},e),{},{loginError:t.loginError});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER/SET-IS-REGISTRATION-DATA":return Object(b.a)(Object(b.a)({},e),{},{isRegistration:t.isRegistration});default:return e}},forgot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),ae=Object(ne.d)(ce,Object(ne.a)(re.a)),ie=function(){return Object(C.jsx)(o.a,{children:Object(C.jsx)(d.a,{store:ae,children:Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)(te,{}),Object(C.jsx)(ee,{})]})})})},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(ie,{})}),document.getElementById("root")),oe()}},[[74,1,2]]]);
//# sourceMappingURL=main.0e6382dc.chunk.js.map